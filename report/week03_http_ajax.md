# π“΅ HTTP Request/Response κµ¬μ΅° μ •λ¦¬

## π§Ύ HTTP (HyperText Transfer Protocol)

- μ›Ήμ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ HTML λ¬Έμ„λ‚ λ¦¬μ†μ¤λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄ μ‚¬μ©ν•λ” ν†µμ‹  ν”„λ΅ν† μ½
- λ„¤νΈμ›ν¬ μƒμ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” ν•μ‹κ³Ό μ μ°¨λ¥Ό μ •μν•¨

---

## π”Ό HTTP Request κµ¬μ΅°

### β… 1. Start Line

```json
GET /test.html HTTP/1.1
[Method] [Request Target] [HTTP Version]
```

| ν•­λ©               | μ„¤λ…                                                     |
| ------------------ | -------------------------------------------------------- |
| **HTTP Method**    | μ”μ²­μ λ©μ μ„ λ‚νƒ€λƒ„ (`GET`, `POST`, `PUT`, `DELETE` λ“±) |
| **Request Target** | μ”μ²­ν•  λ¦¬μ†μ¤ κ²½λ΅                                       |
| **HTTP Version**   | HTTP ν”„λ΅ν† μ½ λ²„μ „ (`HTTP/1.1`, `HTTP/2` λ“±)             |

---

### β… 2. Headers

μ”μ²­μ— λ€ν• λ¶€κ°€ μ •λ³΄λ¥Ό λ‹΄λ” λ¶€λ¶„

```json
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
Accept: text/html
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json
Connection: keep-alive
Cookie: sessionId=abc123
```

| Header            | μ„¤λ…                                     |
| ----------------- | ---------------------------------------- |
| **Host**          | μ”μ²­ν•  μ„λ²„μ νΈμ¤νΈ μ΄λ¦„κ³Ό ν¬νΈ λ²νΈ    |
| **User-Agent**    | ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄ (λΈλΌμ°μ € μΆ…λ¥ λ“±)     |
| **Accept**        | ν΄λΌμ΄μ–ΈνΈκ°€ μ²λ¦¬ν•  μ μλ” μ½ν…μΈ  νƒ€μ…  |
| **Authorization** | μΈμ¦ ν† ν° μ „μ†΅ μ‹ μ‚¬μ© (μ: Bearer ν† ν°) |
| **Content-Type**  | μ „μ†΅ν•  λ³Έλ¬Έμ νƒ€μ… μ§€μ •                  |
| **Connection**    | μ—°κ²° μƒνƒ μ μ§€ (`keep-alive`, `close`)   |
| **Cookie**        | ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ§„ μΏ ν‚¤ κ°’ μ „μ†΅           |

---

### β… 3. Body

- μ”μ²­ λ°μ΄ν„°κ°€ λ‹΄κΈ°λ” λ¶€λ¶„
- μ£Όλ΅ `POST`, `PUT` μ”μ²­μ—μ„ μ‚¬μ©

```json
{
  "username": "hong",
  "password": "1234"
}
```

## π”½ HTTP Response κµ¬μ΅°

### β… 1. Status Line

```json
HTTP/1.1 200 OK
[HTTP Version] [Status Code] [Status Text]
```

| ν•­λ©             | μ„¤λ…                                |
| ---------------- | ----------------------------------- |
| **HTTP Version** | μ‘λ‹µμ„ λ³΄λ‚΄λ” HTTP ν”„λ΅ν† μ½ λ²„μ „    |
| **Status Code**  | μ”μ²­ μ²λ¦¬ κ²°κ³Όλ¥Ό λ‚νƒ€λ‚΄λ” μ«μ μ½”λ“ |
| **Status Text**  | μƒνƒ μ½”λ“μ— λ€ν• κ°„λ‹¨ν• μ„¤λ…        |

#### π“ μ£Όμ” Status Code

| μƒνƒ μ½”λ“                   | μλ―Έ         | μ„¤λ…                                  |
| --------------------------- | ------------ | ------------------------------------- |
| `200 OK`                    | μ„±κ³µ         | μ”μ²­μ΄ μ •μƒμ μΌλ΅ μ²λ¦¬λ¨              |
| `201 Created`               | μƒμ„±λ¨       | μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μ„±κ³µμ μΌλ΅ μƒμ„±λ¨     |
| `301 Moved Permanently`     | μκµ¬ μ΄λ™    | μ”μ²­ν• λ¦¬μ†μ¤κ°€ λ‹¤λ¥Έ URLλ΅ μ΄λ™λ¨     |
| `400 Bad Request`           | μλ»λ μ”μ²­  | ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ¬Έλ²•μ  μ¤λ¥κ°€ μμ  |
| `401 Unauthorized`          | μΈμ¦ ν•„μ”    | μΈμ¦μ΄ ν•„μ”ν• μ”μ²­μ΄λ‚ λ„λ½λ¨         |
| `403 Forbidden`             | κΈμ§€λ¨       | μ„λ²„κ°€ μ”μ²­μ„ κ±°λ¶€ν•¨ (κ¶ν• λ¶€μ΅± λ“±)   |
| `404 Not Found`             | μ°Ύμ„ μ μ—†μ | μ”μ²­ν• λ¦¬μ†μ¤λ¥Ό μ„λ²„μ—μ„ μ°Ύμ„ μ μ—†μ |
| `500 Internal Server Error` | μ„λ²„ μ¤λ¥    | μ„λ²„ λ‚΄λ¶€μ—μ„ μ• μ μ—†λ” μ¤λ¥ λ°μƒ    |

---

### β… 2. Headers

μ‘λ‹µμ— λ€ν• λ¶€κ°€ μ •λ³΄λ¥Ό ν¬ν•¨

```json
Content-Type: application/json
Set-Cookie: sessionId=xyz456; HttpOnly
Cache-Control: no-cache
```

| Header            | μ„¤λ…                                                     |
| ----------------- | -------------------------------------------------------- |
| **Content-Type**  | μ‘λ‹µ λ°μ΄ν„°μ νƒ€μ… (μ: `application/json`, `text/html`) |
| **Set-Cookie**    | λΈλΌμ°μ €μ— μΏ ν‚¤λ¥Ό μ €μ¥ν•λ„λ΅ μ§€μ‹                        |
| **Cache-Control** | μΊμ‹ μ •μ±… μ„¤μ • (`no-cache`, `max-age=3600` λ“±)           |

---

### β… 3. Body

- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚΄λ” **μ‹¤μ  λ°μ΄ν„°**
- HTML, JSON, μ΄λ―Έμ§€ λ“± λ‹¤μ–‘ν• ν•νƒμΌ μ μμ
- `GET` μ”μ²­μ— μ£Όλ΅ ν¬ν•¨λλ©°, `204 No Content`μ™€ κ°™μ΄ μ—†λ” κ²½μ°λ„ μμ

#### π“ μμ‹

```json
{
  "id": 1,
  "name": "ν™κΈΈλ™",
  "email": "hong@example.com"
}
```

μ°Έκ³  μ‚¬μ΄νΈ

[99CORN [κ°„λ‹¨μ •λ¦¬] HTTP Request/Response κµ¬μ΅°](https://hahahoho5915.tistory.com/62)

[HTTP MDN](https://developer.mozilla.org/ko/docs/Web/HTTP)

# π Ajax / Forward / Redirect μ •λ¦¬

---

## β΅οΈ Ajax

- λΉ„λ™κΈ°μ  μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… μ μ‘μ„ μ„ν• κΈ°μ 
- μ „μ²΄ νμ΄μ§€λ¥Ό μƒλ΅ κ³ μΉμ§€ μ•κ³  **μ›Ή νμ΄μ§€μ μΌλ¶€λ¶„λ§ λ™μ μΌλ΅ κ°±μ‹ ** κ°€λ¥
- λ°±κ·ΈλΌμ΄λ“μ—μ„ μ„λ²„μ™€ λ°μ΄ν„°λ¥Ό κµν™

### β… νΉμ§•

- **λΉ„λ™κΈ°μ„±**: νμ΄μ§€ λ¦¬λ΅λ“ μ—†μ΄ μ”μ²­/μ‘λ‹µ μ²λ¦¬
- **ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ²λ¦¬**: JavaScriptλ΅ μ²λ¦¬
- **μ μ§„μ  κ°±μ‹ **: ν•„μ”ν• λ¶€λ¶„λ§ κ°±μ‹ 

---

## π”€ forward

- μ„λ²„ λ‚΄λ¶€μ—μ„ **λ‹¤λ¥Έ λ¦¬μ†μ¤**λ΅ μ”μ²­μ„ μ „λ‹¬ν•λ” λ°©μ‹

### β… νΉμ§•

- μ„λ²„ λ‚΄λ¶€μ—μ„λ§ μ²λ¦¬λλ―€λ΅ ν΄λΌμ΄μ–ΈνΈλ” μΈμ§€ν•μ§€ λ»ν•¨
- **URLμ΄ λ³€κ²½λμ§€ μ•μ**
- **μ”μ²­κ³Ό μ‘λ‹µ κ°μ²΄κ°€ μ μ§€**λ¨ (`request`, `response`)
- λ™μΌ μ„λ²„ λ‚΄ μμ›μΌλ΅λ§ κ°€λ¥

### π” μ²λ¦¬ κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­
2. μ„λ²„λ” ν•΄λ‹Ή μ”μ²­μ„ λ‚΄λ¶€ λ¦¬μ†μ¤λ΅ μ „λ‹¬ (`RequestDispatcher.forward`)
3. μµμΆ… λ¦¬μ†μ¤κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µ λ°ν™

---

## π” redirect

- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² **λ‹¤λ¥Έ URLλ΅ μ΄λ™ν•λΌκ³  μ§€μ‹**ν•μ—¬, ν΄λΌμ΄μ–ΈνΈκ°€ μƒλ΅μ΄ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹

### β… νΉμ§•

- ν΄λΌμ΄μ–ΈνΈκ°€ **redirect λ°μƒμ„ μΈμ§€**ν•¨
- **URLμ΄ λ³€κ²½λ¨**
- μƒλ΅μ΄ μ”μ²­μ΄ λ°μƒν•λ―€λ΅ **request/response κ°μ²΄κ°€ μƒλ΅ μƒμ„±**
- **λ‹¤λ¥Έ μ„λ²„μ μμ›**μΌλ΅λ„ μ΄λ™ κ°€λ¥

### π” μ²λ¦¬ κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­
2. μ„λ²„λ” **HTTP 3xx μƒνƒ μ½”λ“ + Location ν—¤λ”**λ¥Ό μ‘λ‹µ
3. ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή URLλ΅ μƒλ΅­κ² μ”μ²­
4. μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µ

---

## π” forward vs redirect μ°¨μ΄μ 

| ν•­λ©                 | forward                       | redirect          |
| -------------------- | ----------------------------- | ----------------- |
| μ”μ²­ νμ            | 1ν                           | 2ν               |
| URL λ³€κ²½             | β λ³€κ²½ μ—†μ                  | β… λ³€κ²½λ¨         |
| μ”μ²­/μ‘λ‹µ κ°μ²΄       | μ μ§€λ¨                        | μƒλ΅ μƒμ„±λ¨       |
| λ°μ΄ν„° κ³µμ           | κ°€λ¥ (`request.setAttribute`) | λ¶κ°€λ¥            |
| μ²λ¦¬ μ„μΉ            | μ„λ²„ λ‚΄λ¶€                     | ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ |
| μ™Έλ¶€ μ„λ²„ μ΄λ™       | λ¶κ°€λ¥                        | κ°€λ¥              |
| μ„±λ¥                 | λΉ λ¦„                          | μƒλ€μ μΌλ΅ λλ¦Ό   |
| ν΄λΌμ΄μ–ΈνΈ μΈμ§€ μ—¬λ¶€ | μΈμ§€ λ»ν•¨                     | μΈμ§€ κ°€λ¥         |

---

## π”— Ajaxμ™€μ κ΄€κ³„

- Ajax μ”μ²­μ€ νμ΄μ§€ μ΄λ™ μ—†μ΄ **λΉ„λ™κΈ° λ°μ΄ν„° μ²λ¦¬**λ§ μν–‰
- λ”°λΌμ„ μ„λ²„μ—μ„ `forward` λλ” `redirect`λ¥Ό μν–‰ν•΄λ„, ν΄λΌμ΄μ–ΈνΈλ” κ·Έ κ²°κ³Όλ¥Ό μ§μ ‘μ μΌλ΅ μΈμ‹ν•μ§€ μ•μ
- λ³΄ν†µ Ajax μ”μ²­ μ‘λ‹µμ€ **JSON λ°μ΄ν„°** λλ” **HTTP μƒνƒ μ½”λ“**λ΅ μ²λ¦¬ κ²°κ³Όλ§ μ „λ‹¬

π“ μ: λ΅κ·ΈμΈ ν›„ Ajax μ‘λ‹µμΌλ΅ λ¦¬λ‹¤μ΄λ ‰νΈλ¥Ό μ λ„ν•  κ²½μ°

```json
// μ„λ²„ μ‘λ‹µ μμ‹
{
  "success": true,
  "redirectUrl": "/dashboard"
}

// ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
if (res.success) {
  window.location.href = res.redirectUrl;
}
```

μ°Έκ³  μ‚¬μ΄νΈ

[[μ›Ήμ„λΉ„μ¤ κ°λ°ν€] CS(AJAX, redirect, Https) μ΅°μ‚¬](https://velog.io/@mathdev/%EC%9B%B9%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B0%9C%EB%B0%9C%ED%8C%80-CS-%EA%B0%9C%EB%85%90-%EC%A1%B0%EC%82%AC%ED%95%98%EA%B8%B0)
