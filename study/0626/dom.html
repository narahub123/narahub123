<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM</title>
    <style>
      .box {
        width: 100px;
        height: 100px;
        background-color: red;
      }

      .active {
        border: 2px solid #000;

        box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>
  <body>
    <p id="greeting">안녕하세요! 반갑습니다!</p>
    <img src="https://picsum.photos/200/300" alt="random image" />
    <br />
    <button id="change-image">이미지 변경</button>
    <br />
    <br />
    <div id="box" class="box">Box</div>
    <br />
    <button id="change-style">스타일 변경</button>
    <br />
    <br />
    <div id="element-add">요소 추가 div</div>
    <button id="element-add-button">요소 추가 버튼</button>
    <button id="move-element">요소 이동 버튼</button>
    <button id="remove-element">요소 삭제 버튼</button>

    <script>
      // id 접근
      let text = document.getElementById("greeting");

      text.innerText = "Hello world!!";

      // class 접근

      // tag 접근
      //   let image = document.getElementsByTagName("img");

      //   image[0].src = "https://picsum.photos/300/300";

      // 이벤트 적용 : 이미지 변경하기
      let button = document.getElementById("change-image");

      button.addEventListener("click", function () {
        let image = document.getElementsByTagName("img");

        image[0].src = "https://picsum.photos/300/300";
      });

      // 스타일 변경
      //   let box = document.getElementById("box");

      //   box.style.backgroundColor = "blue";

      let btn = document.getElementById("change-style");

      btn.addEventListener("click", function () {
        let box = document.getElementById("box");

        box.style.backgroundColor = getRandomColor();

        // box.classList.add("active");
      });

      function getRandomColor() {
        let letters = "0123456789ABCDEF";
        let color = "#";
        for (let i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }

      let box = document.getElementById("box");

      box.addEventListener("mouseover", function () {
        box.classList.add("active");
      });

      box.addEventListener("mouseout", function () {
        box.classList.remove("active");
      });

      // 요소 추가
      const elementAdd = document.getElementById("element-add");

      //   let elementAddButton = document.createElement("button");
      //   elementAddButton.textContent = "추가";
      //   elementAddButton.style.backgroundColor = "blue";
      //   elementAddButton.style.color = "white";
      //   elementAddButton.style.padding = "10px 20px";
      //   elementAddButton.style.borderRadius = "5px";
      //   elementAddButton.style.boxShadow = "4px 4px 10px rgba(0, 0, 0, 0.5)";
      //   elementAddButton.style.cursor = "pointer";

      let elementAddButton = document.getElementById("element-add-button");

      elementAddButton.addEventListener("click", function () {
        let newElement = document.createElement("div");

        newElement.style.innerText = "새 상자";
        newElement.style.width = "100%";
        newElement.style.height = "100px";
        newElement.style.backgroundColor = getRandomColor();

        elementAdd.appendChild(newElement);
      });

      elementAdd.appendChild(elementAddButton);

      // 요소 이동
      let moveElementButton = document.getElementById("move-element");

      moveElementButton.addEventListener("click", function () {
        let box = document.getElementById("box");

        let body = document.getElementsByTagName("body")[0];

        // body의 마지막으로 이동
        body.appendChild(box);

        // body의 가장 처음으로 이동
        body.insertBefore(box, body.firstChild);
      });

      // 요소 삭제
      let removeElementButton = document.getElementById("remove-element");
      removeElementButton.addEventListener("click", function () {
        const title = document.getElementById("greeting");

        // title.remove(); // 요소 삭제

        const elementAddDiv = document.getElementById("element-add");

        if (elementAddDiv.lastChild) {
          elementAddDiv.removeChild(elementAddDiv.lastChild);
        }
      });
    </script>
  </body>
</html>
